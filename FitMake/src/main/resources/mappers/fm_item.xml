<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.fm.item">

	<resultMap type="itemDto" id="itemResultMap">
		<id column="FM_ITEM_NO" property="iNo"/>
		
		
		<result column="FM_ITEM_NAME" property=		"iName"/>
		<result column="FM_ITEM_CALORY" property=	"iCalory"/>
		<result column="FM_ITEM_RAWPRICE" property=	"iRawprice"/>
		<result column="FM_ITEM_SELLPRICE" property="iSellprice"/>
		<result column="FM_ITEM_COUNT" property=	"iCount"/>
		<result column="FM_CATEGORY_NO" property=	"cNo"/>
		<result column="FM_CALORY_GRADE" property=	"iCGrade"/>
	</resultMap>
	
	<insert id="itemInsertOne" parameterType= "itemDto"
		useGeneratedKeys="true" keyProperty="iNo">
		<selectKey keyProperty="iNo" resultType="int" order="BEFORE">
			SELECT SEQ_FM_ITEM_NO.NEXTVAL FROM DUAL
		</selectKey>
			INSERT INTO FM_ITEM
			VALUE(FM_ITEM_NO, FM_ITEM_NAME, FM_ITEM_CALORY, FM_ITEM_RAWPRICE, FM_ITEM_SELLPRICE, FM_ITEM_COUNT
   				, FM_CATEGORY_NO, FM_CALORY_GRADE)
			VALUES(5, #{iName}, 186, 500, #{iSellprice}, #{iCount}, 2, 2)
	</insert>
	
	<select id="itemSelectList" parameterType="itemDto"
		resultMap="itemResultMap">
		
		SELECT FM_ITEM_NO, FM_ITEM_NAME, FM_ITEM_SELLPRICE, FM_ITEM_COUNT, FM_CATEGORY_NO
		FROM FM_ITEM
	</select>
	
	<select id="itemSelectOne" parameterType="int"
		resultMap="itemResultMap">
		SELECT FM_ITEM_NO, FM_ITEM_NAME, FM_ITEM_SELLPRICE, FM_ITEM_COUNT, FM_CATEGORY_NO
		FROM FM_ITEM
		WHERE FM_ITEM_NO=#{iNo}
		</select>
</mapper>